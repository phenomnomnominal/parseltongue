<div class="row">
    <h2>Escaping!</h2>
</div>

<div class="row">
    <div class="big ui image">
        <img src="./assets/harry-spell.png" alt="Harry's spell to escape the internet!"/>
    </div>
</div>

<div class="row">
    <button id="run-inspecting" class="massive blue ui button">
        Run!
    </button>
</div>

<script>
    $('#run-inspecting').click(async () => {
        let pt = await parseltongue.load('./spells/harry.pt');
        console.log(pt);
        let tokens = parseltongue.lex(pt);
        let ast = parseltongue.parse(tokens, { debug: true });
        let linted = parseltongue.lint(ast);
        let code = parseltongue.generate(linted);
        console.log(code);
        debugger;

        script = document.createElement('script');
        script.src = './spells/harry.js';
        document.head.appendChild(script);
    });
</script>
